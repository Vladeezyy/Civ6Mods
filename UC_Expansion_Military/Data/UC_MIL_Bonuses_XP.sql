-- UC_MIL_Bonuses_XP
-- Author: JNR
--------------------------------------------------------------

-- Types
--------------------------------------------------------------
INSERT OR IGNORE INTO Types
		(Type,												Kind)
VALUES	('ABILITY_JNR_TARGET_RANGE_TRAINED_UNIT_XP',		'KIND_ABILITY'),
		('ABILITY_JNR_BARRACKS_TRAINED_UNIT_XP_TIER_2',		'KIND_ABILITY'),
		('ABILITY_JNR_STABLE_TRAINED_UNIT_XP_TIER_2',		'KIND_ABILITY'),
		('ABILITY_JNR_TARGET_RANGE_TRAINED_UNIT_XP_TIER_2',	'KIND_ABILITY');

INSERT OR IGNORE INTO Types
		(Type,												Kind)
SELECT	'ABILITY_JNR_BASILIKOI_TRAINED_UNIT_XP_TIER_2',		'KIND_ABILITY'
FROM	Buildings
WHERE	BuildingType='BUILDING_BASILIKOI_PAIDES';

INSERT OR IGNORE INTO Types
		(Type,												Kind)
SELECT	'ABILITY_JNR_ORDU_TRAINED_UNIT_XP_TIER_2',			'KIND_ABILITY'
FROM	Buildings
WHERE	BuildingType='BUILDING_ORDU';

--		('ABILITY_JNR_CASEMATES_TRAINED_UNIT_XP',		'KIND_ABILITY'),
--		('ABILITY_JNR_DEPOT_TRAINED_UNIT_XP',			'KIND_ABILITY');
--------------------------------------------------------------

-- UnitAbilities
--------------------------------------------------------------
INSERT OR IGNORE INTO UnitAbilities
		(UnitAbilityType,									Name,														Description,														Inactive)
VALUES	('ABILITY_JNR_TARGET_RANGE_TRAINED_UNIT_XP',		'LOC_ABILITY_JNR_TARGET_RANGE_TRAINED_UNIT_XP_NAME',		'LOC_ABILITY_JNR_TARGET_RANGE_TRAINED_UNIT_XP_DESCRIPTION',			1),
		('ABILITY_JNR_BARRACKS_TRAINED_UNIT_XP_TIER_2',		'LOC_ABILITY_JNR_BARRACKS_TRAINED_UNIT_XP_TIER_2_NAME',		'LOC_ABILITY_JNR_BARRACKS_TRAINED_UNIT_XP_TIER_2_DESCRIPTION',		1),
		('ABILITY_JNR_STABLE_TRAINED_UNIT_XP_TIER_2',		'LOC_ABILITY_JNR_STABLE_TRAINED_UNIT_XP_TIER_2_NAME',		'LOC_ABILITY_JNR_STABLE_TRAINED_UNIT_XP_TIER_2_DESCRIPTION',		1),
		('ABILITY_JNR_TARGET_RANGE_TRAINED_UNIT_XP_TIER_2',	'LOC_ABILITY_JNR_TARGET_RANGE_TRAINED_UNIT_XP_TIER_2_NAME',	'LOC_ABILITY_JNR_TARGET_RANGE_TRAINED_UNIT_XP_TIER_2_DESCRIPTION',	1);

INSERT OR IGNORE INTO UnitAbilities
		(UnitAbilityType,									Name,														Description,														Inactive)
SELECT	'ABILITY_JNR_BASILIKOI_TRAINED_UNIT_XP_TIER_2',		'LOC_ABILITY_JNR_BASILIKOI_TRAINED_UNIT_XP_TIER_2_NAME',	'LOC_ABILITY_JNR_BASILIKOI_TRAINED_UNIT_XP_TIER_2_DESCRIPTION',		1
FROM	Buildings
WHERE	BuildingType='BUILDING_BASILIKOI_PAIDES';		

INSERT OR IGNORE INTO UnitAbilities
		(UnitAbilityType,									Name,														Description,														Inactive)
SELECT	'ABILITY_JNR_ORDU_TRAINED_UNIT_XP_TIER_2',			'LOC_ABILITY_JNR_ORDU_TRAINED_UNIT_XP_TIER_2_NAME',			'LOC_ABILITY_JNR_ORDU_TRAINED_UNIT_XP_TIER_2_DESCRIPTION',			1
FROM	Buildings
WHERE	BuildingType='BUILDING_ORDU';

--		('ABILITY_JNR_CASEMATES_TRAINED_UNIT_XP',		'LOC_ABILITY_JNR_CASEMATES_TRAINED_UNIT_XP_NAME',		'LOC_ABILITY_JNR_CASEMATES_TRAINED_UNIT_XP_DESCRIPTION',	1),
--		('ABILITY_JNR_DEPOT_TRAINED_UNIT_XP',			'LOC_ABILITY_JNR_DEPOT_TRAINED_UNIT_XP_NAME',			'LOC_ABILITY_JNR_DEPOT_TRAINED_UNIT_XP_DESCRIPTION',		1);
--------------------------------------------------------------

-- Tags
--------------------------------------------------------------
INSERT OR IGNORE INTO Tags
		(Tag,							Vocabulary)
VALUES	('CLASS_XP_BONUS_MELEE_JNR',	'ABILITY_CLASS'),
		('CLASS_XP_BONUS_RANGED_JNR',	'ABILITY_CLASS'),
		('CLASS_XP_BONUS_CAVALRY_JNR',	'ABILITY_CLASS');
--------------------------------------------------------------

-- TypeTags
--------------------------------------------------------------
DELETE FROM TypeTags WHERE Type='ABILITY_BARRACKS_TRAINED_UNIT_XP';
DELETE FROM TypeTags WHERE Type='ABILITY_STABLE_TRAINED_UNIT_XP';
DELETE FROM TypeTags WHERE Type='ABILITY_ARMORY_TRAINED_UNIT_XP';
DELETE FROM TypeTags WHERE Type='ABILITY_MILITARY_ACADEMY_TRAINED_UNIT_XP';
DELETE FROM TypeTags WHERE Type='ABILITY_BASILIKOI_TRAINED_UNIT_XP'	AND Tag<>'CLASS_HETAIROI';
DELETE FROM TypeTags WHERE Type='ABILITY_ORDU_TRAINED_UNIT_XP'		AND Tag<>'CLASS_MONGOLIAN_KESHIG';

INSERT OR IGNORE INTO TypeTags
		(Type,												Tag)
VALUES	('ABILITY_BARRACKS_TRAINED_UNIT_XP',				'CLASS_XP_BONUS_MELEE_JNR'),
		('ABILITY_JNR_BARRACKS_TRAINED_UNIT_XP_TIER_2',		'CLASS_XP_BONUS_MELEE_JNR'),
		('ABILITY_STABLE_TRAINED_UNIT_XP',					'CLASS_XP_BONUS_CAVALRY_JNR'),
		('ABILITY_JNR_STABLE_TRAINED_UNIT_XP_TIER_2',		'CLASS_XP_BONUS_CAVALRY_JNR'),
		('ABILITY_JNR_TARGET_RANGE_TRAINED_UNIT_XP',		'CLASS_XP_BONUS_RANGED_JNR'),
		('ABILITY_JNR_TARGET_RANGE_TRAINED_UNIT_XP_TIER_2',	'CLASS_XP_BONUS_RANGED_JNR');

INSERT OR IGNORE INTO TypeTags
		(Type,											Tag)
SELECT	'ABILITY_BASILIKOI_TRAINED_UNIT_XP',			'CLASS_XP_BONUS_MELEE_JNR'
FROM	Buildings
WHERE	BuildingType='BUILDING_BASILIKOI_PAIDES';

INSERT OR IGNORE INTO TypeTags
		(Type,											Tag)
SELECT	'ABILITY_JNR_BASILIKOI_TRAINED_UNIT_XP_TIER_2',	'CLASS_XP_BONUS_MELEE_JNR'
FROM	Buildings
WHERE	BuildingType='BUILDING_BASILIKOI_PAIDES';

INSERT OR IGNORE INTO TypeTags
		(Type,											Tag)
SELECT	'ABILITY_JNR_BASILIKOI_TRAINED_UNIT_XP_TIER_2',	'CLASS_HETAIROI'
FROM	Buildings
WHERE	BuildingType='BUILDING_BASILIKOI_PAIDES';

INSERT OR IGNORE INTO TypeTags
		(Type,											Tag)
SELECT	'ABILITY_ORDU_TRAINED_UNIT_XP',					'CLASS_XP_BONUS_CAVALRY_JNR'
FROM	Buildings
WHERE	BuildingType='BUILDING_ORDU';

INSERT OR IGNORE INTO TypeTags
		(Type,											Tag)
SELECT	'ABILITY_JNR_ORDU_TRAINED_UNIT_XP_TIER_2',		'CLASS_XP_BONUS_CAVALRY_JNR'
FROM	Buildings
WHERE	BuildingType='BUILDING_ORDU';

INSERT OR IGNORE INTO TypeTags
		(Type,											Tag)
SELECT	'ABILITY_JNR_ORDU_TRAINED_UNIT_XP_TIER_2',		'CLASS_MONGOLIAN_KESHIG'
FROM	Buildings
WHERE	BuildingType='BUILDING_ORDU';

INSERT OR IGNORE INTO TypeTags
		(Type,		Tag)
SELECT	UnitType,	'CLASS_XP_BONUS_MELEE_JNR'
FROM Units WHERE PromotionClass='PROMOTION_CLASS_MELEE';

INSERT OR IGNORE INTO TypeTags
		(Type,		Tag)
SELECT	UnitType,	'CLASS_XP_BONUS_MELEE_JNR'
FROM Units WHERE PromotionClass='PROMOTION_CLASS_ANTI_CAVALRY';

INSERT OR IGNORE INTO TypeTags
		(Type,		Tag)
SELECT	UnitType,	'CLASS_XP_BONUS_MELEE_JNR'
FROM Units WHERE PromotionClass='PROMOTION_CLASS_MONK';

INSERT OR IGNORE INTO TypeTags
		(Type,		Tag)
SELECT	UnitType,	'CLASS_XP_BONUS_MELEE_JNR'
FROM Units WHERE PromotionClass='PROMOTION_CLASS_NIHANG';

INSERT OR IGNORE INTO TypeTags
		(Type,		Tag)
SELECT	UnitType,	'CLASS_XP_BONUS_RANGED_JNR'
FROM Units WHERE PromotionClass='PROMOTION_CLASS_RANGED';

INSERT OR IGNORE INTO TypeTags
		(Type,		Tag)
SELECT	UnitType,	'CLASS_XP_BONUS_RANGED_JNR'
FROM Units WHERE PromotionClass='PROMOTION_CLASS_RECON';

INSERT OR IGNORE INTO TypeTags
		(Type,		Tag)
SELECT	UnitType,	'CLASS_XP_BONUS_RANGED_JNR'
FROM Units WHERE PromotionClass='PROMOTION_CLASS_SIEGE';

INSERT OR IGNORE INTO TypeTags
		(Type,		Tag)
SELECT	UnitType,	'CLASS_XP_BONUS_CAVALRY_JNR'
FROM Units WHERE PromotionClass='PROMOTION_CLASS_LIGHT_CAVALRY';

INSERT OR IGNORE INTO TypeTags
		(Type,		Tag)
SELECT	UnitType,	'CLASS_XP_BONUS_CAVALRY_JNR'
FROM Units WHERE PromotionClass='PROMOTION_CLASS_HEAVY_CAVALRY';
--------------------------------------------------------------

-- Modifiers
--------------------------------------------------------------
INSERT OR IGNORE INTO Modifiers
		(ModifierId,											ModifierType,											Permanent,	OwnerRequirementSetId)
VALUES	('JNR_TARGET_RANGE_TRAINED_UNIT_XP_MODIFIER',			'MODIFIER_SINGLE_CITY_GRANT_ABILITY_FOR_TRAINED_UNITS',	1,			NULL),
		('JNR_BARRACKS_TRAINED_UNIT_XP_MODIFIER_TIER_2',		'MODIFIER_SINGLE_CITY_GRANT_ABILITY_FOR_TRAINED_UNITS',	1,			'BUILDING_IS_ENCAMPMENT_TIER2_JNR'),
		('JNR_STABLE_TRAINED_UNIT_XP_MODIFIER_TIER_2',			'MODIFIER_SINGLE_CITY_GRANT_ABILITY_FOR_TRAINED_UNITS',	1,			'BUILDING_IS_ENCAMPMENT_TIER2_JNR'),
		('JNR_TARGET_RANGE_TRAINED_UNIT_XP_MODIFIER_TIER_2',	'MODIFIER_SINGLE_CITY_GRANT_ABILITY_FOR_TRAINED_UNITS',	1,			'BUILDING_IS_ENCAMPMENT_TIER2_JNR'),
		('JNR_TARGET_RANGE_TRAINED_UNIT_XP',					'MODIFIER_PLAYER_UNIT_ADJUST_UNIT_EXPERIENCE_MODIFIER',	1,			NULL),
		('JNR_BARRACKS_TRAINED_UNIT_XP_TIER_2',					'MODIFIER_PLAYER_UNIT_ADJUST_UNIT_EXPERIENCE_MODIFIER',	1,			NULL),
		('JNR_STABLE_TRAINED_UNIT_XP_TIER_2',					'MODIFIER_PLAYER_UNIT_ADJUST_UNIT_EXPERIENCE_MODIFIER',	1,			NULL),
		('JNR_TARGET_RANGE_TRAINED_UNIT_XP_TIER_2',				'MODIFIER_PLAYER_UNIT_ADJUST_UNIT_EXPERIENCE_MODIFIER',	1,			NULL);



--		('JNR_CASEMATES_TRAINED_UNIT_XP_MODIFIER',		'MODIFIER_SINGLE_CITY_GRANT_ABILITY_FOR_TRAINED_UNITS',	1),
--		('JNR_DEPOT_TRAINED_UNIT_XP_MODIFIER',			'MODIFIER_SINGLE_CITY_GRANT_ABILITY_FOR_TRAINED_UNITS',	1),
--		('JNR_CASEMATES_TRAINED_UNIT_XP',				'MODIFIER_PLAYER_UNIT_ADJUST_UNIT_EXPERIENCE_MODIFIER',	1),
--		('JNR_DEPOT_TRAINED_UNIT_XP',					'MODIFIER_PLAYER_UNIT_ADJUST_UNIT_EXPERIENCE_MODIFIER',	1);
-----------------------------------------------------------

-- ModifierArguments
--------------------------------------------------------------
INSERT OR IGNORE INTO ModifierArguments
		(ModifierId,											Name,			Value)
VALUES	('JNR_TARGET_RANGE_TRAINED_UNIT_XP_MODIFIER',			'AbilityType',	'ABILITY_JNR_TARGET_RANGE_TRAINED_UNIT_XP'),
		('JNR_BARRACKS_TRAINED_UNIT_XP_MODIFIER_TIER_2',		'AbilityType',	'ABILITY_JNR_BARRACKS_TRAINED_UNIT_XP_TIER_2'),
		('JNR_STABLE_TRAINED_UNIT_XP_MODIFIER_TIER_2',			'AbilityType',	'ABILITY_JNR_STABLE_TRAINED_UNIT_XP_TIER_2'),
		('JNR_TARGET_RANGE_TRAINED_UNIT_XP_MODIFIER_TIER_2',	'AbilityType',	'ABILITY_JNR_TARGET_RANGE_TRAINED_UNIT_XP_TIER_2'),
		('JNR_TARGET_RANGE_TRAINED_UNIT_XP',					'Amount',		25),
		('JNR_BARRACKS_TRAINED_UNIT_XP_TIER_2',					'Amount',		25),
		('JNR_STABLE_TRAINED_UNIT_XP_TIER_2',					'Amount',		25),
		('JNR_TARGET_RANGE_TRAINED_UNIT_XP_TIER_2',				'Amount',		25);
		
--		('JNR_CASEMATES_TRAINED_UNIT_XP_MODIFIER',		'AbilityType',	'ABILITY_JNR_CASEMATES_TRAINED_UNIT_XP'),
--		('JNR_DEPOT_TRAINED_UNIT_XP_MODIFIER',			'AbilityType',	'ABILITY_JNR_DEPOT_TRAINED_UNIT_XP'),
--		('JNR_CASEMATES_TRAINED_UNIT_XP',				'Amount',		25),
--		('JNR_DEPOT_TRAINED_UNIT_XP',					'Amount',		25);
		
UPDATE ModifierArguments SET Value=Value-25	WHERE ModifierId='HANGAR_TRAINED_AIRCRAFT_XP';
--------------------------------------------------------------

-- BuildingModifiers
--------------------------------------------------------------
INSERT OR IGNORE INTO BuildingModifiers
		(BuildingType,					ModifierId)
VALUES	('BUILDING_JNR_TARGET_RANGE',	'JNR_TARGET_RANGE_TRAINED_UNIT_XP_MODIFIER'),
		('BUILDING_BARRACKS',			'JNR_BARRACKS_TRAINED_UNIT_XP_MODIFIER_TIER_2'),
		('BUILDING_STABLE',				'JNR_STABLE_TRAINED_UNIT_XP_MODIFIER_TIER_2'),
		('BUILDING_JNR_TARGET_RANGE',	'JNR_TARGET_RANGE_TRAINED_UNIT_XP_MODIFIER_TIER_2');

--		('BUILDING_JNR_CASEMATES',		'JNR_CASEMATES_TRAINED_UNIT_XP_MODIFIER'),
--		('BUILDING_JNR_DEPOT',			'JNR_DEPOT_TRAINED_UNIT_XP_MODIFIER');

DELETE FROM BuildingModifiers WHERE ModifierId='ARMORY_TRAINED_UNIT_XP_MODIFIER'			AND BuildingType='BUILDING_ARMORY';
DELETE FROM BuildingModifiers WHERE ModifierId='MILITARY_ACADEMY_TRAINED_UNIT_XP_MODIFIER'	AND BuildingType='BUILDING_MILITARY_ACADEMY';
DELETE FROM BuildingModifiers WHERE ModifierId='SHIPYARD_TRAINED_UNIT_XP_MODIFIER'			AND BuildingType='BUILDING_SHIPYARD';
DELETE FROM BuildingModifiers WHERE ModifierId='HANGAR_TRAINED_AIRCRAFT_XP_MODIFIER'		AND BuildingType='BUILDING_HANGAR';
--------------------------------------------------------------

-- UnitAbilityModifiers
--------------------------------------------------------------
INSERT OR IGNORE INTO UnitAbilityModifiers
		(UnitAbilityType,									ModifierId)
VALUES	('ABILITY_JNR_TARGET_RANGE_TRAINED_UNIT_XP',		'JNR_TARGET_RANGE_TRAINED_UNIT_XP'),
		('ABILITY_JNR_BARRACKS_TRAINED_UNIT_XP_TIER_2',		'JNR_BARRACKS_TRAINED_UNIT_XP_TIER_2'),
		('ABILITY_JNR_STABLE_TRAINED_UNIT_XP_TIER_2',		'JNR_STABLE_TRAINED_UNIT_XP_TIER_2'),
		('ABILITY_JNR_TARGET_RANGE_TRAINED_UNIT_XP_TIER_2',	'JNR_TARGET_RANGE_TRAINED_UNIT_XP_TIER_2');

--		('ABILITY_JNR_CASEMATES_TRAINED_UNIT_XP',		'JNR_CASEMATES_TRAINED_UNIT_XP'),
--		('ABILITY_JNR_DEPOT_TRAINED_UNIT_XP',			'JNR_DEPOT_TRAINED_UNIT_XP');
--------------------------------------------------------------