-- UC_COM_MMSS
-- Author: JNR
--------------------------------------------------------------

-- Waterfront
--------------------------------------------------------------
UPDATE Buildings SET Description='LOC_BUILDING_WTR_BREAKWATER_DESCRIPTION_UC_JNR'	WHERE BuildingType='BUILDING_WTR_BREAKWATER';
UPDATE Buildings SET Description='LOC_BUILDING_WTR_BOARDWALK_DESCRIPTION_UC_JNR'	WHERE BuildingType='BUILDING_WTR_BOARDWALK';

DELETE FROM BuildingModifiers WHERE BuildingType='BUILDING_LIGHTHOUSE'		AND ModifierId='WTR_LIGHTHOUSE_WATER_IMPROVEMENTS_GOLD';
DELETE FROM BuildingModifiers WHERE BuildingType='BUILDING_WTR_BREAKWATER';

INSERT OR IGNORE INTO RequirementSets
		(RequirementSetId,								RequirementSetType)
VALUES	('WTR_SET_ADJACENT_WATER_CONDITIONS',			'REQUIREMENTSET_TEST_ALL'),
		('WTR_SET_UNIMPROVED_WATER_FEATURE_CONDITIONS',	'REQUIREMENTSET_TEST_ALL');

INSERT OR IGNORE INTO RequirementSetRequirements
		(RequirementSetId,								RequirementId)
VALUES	('WTR_SET_ADJACENT_WATER_CONDITIONS',			'REQUIRES_PLOT_HAS_COAST'),
		('WTR_SET_ADJACENT_WATER_CONDITIONS',			'ADJACENT_TO_OWNER'),
		('WTR_SET_UNIMPROVED_WATER_FEATURE_CONDITIONS',	'REQUIRES_PLOT_HAS_COAST'),
		('WTR_SET_UNIMPROVED_WATER_FEATURE_CONDITIONS',	'REQUIRES_PLOT_HAS_NO_IMPROVEMENT'),
		('WTR_SET_UNIMPROVED_WATER_FEATURE_CONDITIONS',	'PLOT_HAS_ANY_FEATURE_REQUIREMENT');

INSERT OR IGNORE INTO Modifiers
		(ModifierId,							ModifierType,									SubjectRequirementSetId)
VALUES	('WTR_BREAKWATER_ADJACENT_YIELDS',		'MODIFIER_CITY_PLOT_YIELDS_ADJUST_PLOT_YIELD',	'WTR_SET_ADJACENT_WATER_CONDITIONS'),
		('WTR_BREAKWATER_CONDITIONAL_YIELDS',	'MODIFIER_CITY_PLOT_YIELDS_ADJUST_PLOT_YIELD',	'WTR_SET_UNIMPROVED_WATER_FEATURE_CONDITIONS');

UPDATE Modifiers SET SubjectRequirementSetId='WTR_SET_ADJACENT_WATER_CONDITIONS'			WHERE ModifierId='WTR_BOARDWALK_ADJACENT_YIELDS';
UPDATE Modifiers SET SubjectRequirementSetId='WTR_SET_UNIMPROVED_WATER_FEATURE_CONDITIONS'	WHERE ModifierId='WTR_BOARDWALK_ADJACENT_CONDITIONAL_YIELDS';
		
INSERT OR IGNORE INTO ModifierArguments
		(ModifierId,							Name,			Value)
VALUES	('WTR_BREAKWATER_ADJACENT_YIELDS',		'Amount',		'1,1'),
		('WTR_BREAKWATER_ADJACENT_YIELDS',		'YieldType',	'YIELD_FOOD,YIELD_SCIENCE'),
		('WTR_BREAKWATER_CONDITIONAL_YIELDS',	'Amount',		'1,1,2'),
		('WTR_BREAKWATER_CONDITIONAL_YIELDS',	'YieldType',	'YIELD_FOOD,YIELD_SCIENCE,YIELD_FAITH');
		
UPDATE ModifierArguments SET Value='YIELD_GOLD,YIELD_CULTURE'					WHERE ModifierId='WTR_BOARDWALK_ADJACENT_YIELDS'				AND Name='YieldType';
UPDATE ModifierArguments SET Value='YIELD_GOLD,YIELD_CULTURE,YIELD_PRODUCTION'	WHERE ModifierId='WTR_BOARDWALK_ADJACENT_CONDITIONAL_YIELDS'	AND Name='YieldType';
		
INSERT OR IGNORE INTO BuildingModifiers
		(BuildingType,				ModifierId)
VALUES	('BUILDING_WTR_BREAKWATER',	'WTR_BREAKWATER_ADJACENT_YIELDS'),
		('BUILDING_WTR_BREAKWATER',	'WTR_BREAKWATER_CONDITIONAL_YIELDS');
--------------------------------------------------------------

-- Arsenal
--------------------------------------------------------------
DELETE FROM BuildingModifiers WHERE BuildingType='BUILDING_JNR_LIGHTHOUSE_FISHING'	AND ModifierId='LIGHTHOUSE_TRAINED_UNIT_XP_MODIFIER';
DELETE FROM BuildingModifiers WHERE BuildingType='BUILDING_ARS_DRYDOCK'				AND ModifierId='SHIPYARD_UNIMPROVED_COAST_PRODUCTION';
DELETE FROM BuildingModifiers WHERE BuildingType='BUILDING_ARS_DRYDOCK'				AND ModifierId='ARS_DRYDOCK_UNIMPROVED_ADJACENT_PROD';
DELETE FROM BuildingModifiers WHERE BuildingType='BUILDING_SHIPYARD'				AND ModifierId='WTR_SHIPYARD_WATER_IMPROVEMENTS_PROD';
DELETE FROM BuildingModifiers WHERE BuildingType='BUILDING_SHIPYARD'				AND ModifierId='WTR_SHIPYARD_TRADEROUTES';
DELETE FROM BuildingModifiers WHERE BuildingType='BUILDING_SEAPORT'					AND ModifierId='WTR_SEAPORT_WATER_IMPROVEMENTS_GOLD';
UPDATE ModifierArguments SET Value=2 WHERE ModifierId='SEAPORT_COAST_GOLD' AND Name='Amount';

UPDATE	Boosts
SET		TriggerDescription='LOC_BOOST_TRIGGER_STEAM_POWER_JNR_UC_MMSS',
		TriggerLongDescription='LOC_BOOST_TRIGGER_LONGDESC_STEAM_POWER_JNR_UC_MMSS',
		BuildingType='BUILDING_ARS_DRYDOCK'
WHERE	TechnologyType='TECH_STEAM_POWER';

UPDATE GreatPersonIndividuals SET ActionRequiresCompletedDistrictType='DISTRICT_ARSENAL' WHERE GreatPersonIndividualType='GREAT_PERSON_INDIVIDUAL_HORATIO_NELSON';

INSERT OR IGNORE INTO Modifiers
		(ModifierId,										ModifierType,											RunOnce,	Permanent)
VALUES	('GREATPERSON_HORATIO_NELSON_ARS_WAREHOUSE_JNR',	'MODIFIER_SINGLE_CITY_GRANT_BUILDING_IN_CITY_IGNORE',	1,			1),
		('GREATPERSON_HORATIO_NELSON_ARS_DRYDOCK_JNR',		'MODIFIER_SINGLE_CITY_GRANT_BUILDING_IN_CITY_IGNORE',	1,			1);

INSERT OR IGNORE INTO ModifierArguments
		(ModifierId,										Name,			Value)
VALUES	('GREATPERSON_HORATIO_NELSON_ARS_WAREHOUSE_JNR',	'BuildingType',	'BUILDING_ARS_WAREHOUSE'),
		('GREATPERSON_HORATIO_NELSON_ARS_DRYDOCK_JNR',		'BuildingType',	'BUILDING_ARS_DRYDOCK');
		
INSERT OR IGNORE INTO GreatPersonIndividualActionModifiers
		(GreatPersonIndividualType,					ModifierId,										AttachmentTargetType)
VALUES	('GREAT_PERSON_INDIVIDUAL_HORATIO_NELSON',	'GREATPERSON_HORATIO_NELSON_ARS_WAREHOUSE_JNR',	'GREAT_PERSON_ACTION_ATTACHMENT_TARGET_DISTRICT_IN_TILE'),
		('GREAT_PERSON_INDIVIDUAL_HORATIO_NELSON',	'GREATPERSON_HORATIO_NELSON_ARS_DRYDOCK_JNR',	'GREAT_PERSON_ACTION_ATTACHMENT_TARGET_DISTRICT_IN_TILE');
		
UPDATE ModifierStrings SET Text='LOC_GREATPERSON_HORATIO_NELSON_ACTIVE_UC_JNR_MMSS' WHERE ModifierId='GREATPERSON_HORATIO_NELSON_ACTIVE';
--------------------------------------------------------------