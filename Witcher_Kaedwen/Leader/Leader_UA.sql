/*
	Leader Unique Ability
	Author: iPlayGamesITA
	Original template by: MC
	Thanks to everyone in the Civ VI Modding Helpline Discord Server!
*/

INSERT INTO Types
		(Type,												Kind			)
VALUES	('TRAIT_LEADER_LAST_OF_THE_UNICORNS',				'KIND_TRAIT'	),
		('ABILITY_KAEDWEN_MILITARY_ENGINEER_SIEGE_BOOST',	'KIND_ABILITY'	),
		('MINOR_CIV_IPG_HENGFORS_MINOR_TRAIT',				'KIND_TRAIT'	);

INSERT INTO TypeTags
		(Type,												Tag				)
VALUES	('ABILITY_KAEDWEN_MILITARY_ENGINEER_SIEGE_BOOST',	'CLASS_SIEGE'	);
-----------------------------------------------
-- Traits
-----------------------------------------------
INSERT INTO	Traits
		(TraitType,								Name,											Description											)
VALUES	('TRAIT_LEADER_LAST_OF_THE_UNICORNS',	'LOC_TRAIT_LEADER_LAST_OF_THE_UNICORNS_NAME',	'LOC_TRAIT_LEADER_LAST_OF_THE_UNICORNS_DESCRIPTION'	),
		('MINOR_CIV_IPG_HENGFORS_MINOR_TRAIT',	'LOC_MINOR_CIV_IPG_HENGFORS_MINOR_TRAIT_NAME',	'LOC_MINOR_CIV_IPG_HENGFORS_MINOR_TRAIT_DESCRIPTION');

INSERT INTO	LeaderTraits
		(LeaderType,						TraitType								)
VALUES	('LEADER_IPG_HENSELT',				'TRAIT_LEADER_LAST_OF_THE_UNICORNS'		),
		('LEADER_IPG_HENSELT',				'TRAIT_LEADER_EXPANSIONIST'				),
		('LEADER_IPG_HENSELT',				'TRAIT_LEADER_LOW_RELIGIOUS_PREFERENCE'	),
		('LEADER_MINOR_CIV_IPG_HENGFORS_MINOR',	'MINOR_CIV_IPG_HENGFORS_MINOR_TRAIT');
-----------------------------------------------
-- Modifiers
-----------------------------------------------
INSERT INTO TraitModifiers 
		(TraitType,								ModifierId											)
VALUES	('TRAIT_LEADER_LAST_OF_THE_UNICORNS',	'KAEDWEN_SIEGE_UNITS_PRODUCTION_BOOST'				),
		('TRAIT_LEADER_LAST_OF_THE_UNICORNS',	'KAEDWEN_SIEGE_UNITS_BOOST_MILITARY_ENGINEER_ABILITY_GRANT'),
		
		('MINOR_CIV_IPG_HENGFORS_MINOR_TRAIT',	'MINOR_CIV_IPG_HENGFORS_MINOR_UNIQUE_INFLUENCE_DRAGON_RESOURCE_BONUS');

INSERT INTO UnitAbilities
		(UnitAbilityType,										Inactive	)
VALUES	('ABILITY_KAEDWEN_MILITARY_ENGINEER_SIEGE_BOOST',		1			);

INSERT INTO UnitAbilityModifiers
        (UnitAbilityType,									ModifierId								)
VALUES	('ABILITY_KAEDWEN_MILITARY_ENGINEER_SIEGE_BOOST',	'KAEDWEN_MILITARY_ENGINEER_SIEGE_DEFENSE'	),
		('ABILITY_KAEDWEN_MILITARY_ENGINEER_SIEGE_BOOST',	'KAEDWEN_MILITARY_ENGINEER_SIEGE_BOMBARD'	);

INSERT INTO Modifiers
		(ModifierId,											ModifierType,												Permanent,		SubjectRequirementSetId,		OwnerRequirementSetId	)
VALUES	('KAEDWEN_SIEGE_UNITS_PRODUCTION_BOOST',				'MODIFIER_PLAYER_CITIES_ADJUST_UNIT_TAG_ERA_PRODUCTION',		1,			null,							null			),
		
		('KAEDWEN_SIEGE_UNITS_BOOST_MILITARY_ENGINEER_ABILITY_GRANT',	'MODIFIER_PLAYER_UNITS_GRANT_ABILITY',					1,			null,							null			),
		('KAEDWEN_MILITARY_ENGINEER_SIEGE_DEFENSE',						'MODIFIER_UNIT_ADJUST_BASE_COMBAT_STRENGTH',			0,			null,							'KAEDWEN_SIEGE_ADJACENT_MILITARY_ENGINEER'	),
		('KAEDWEN_MILITARY_ENGINEER_SIEGE_BOMBARD',						'MODIFIER_UNIT_ADJUST_COMBAT_STRENGTH',					0,			'KAEDWEN_SIEGE_TARGET_CITY',	'KAEDWEN_SIEGE_ADJACENT_MILITARY_ENGINEER'	),
		
		('MINOR_CIV_IPG_HENGFORS_MINOR_UNIQUE_INFLUENCE_DRAGON_RESOURCE_BONUS',	'MODIFIER_ALL_PLAYERS_ATTACH_MODIFIER',				0,		'PLAYER_IS_SUZERAIN',			null			),
		('MINOR_CIV_IPG_HENGFORS_MINOR_DRAGON_RESOURCE_BONUS',					'MODIFIER_PLAYER_ADJUST_FREE_RESOURCE_IMPORT',		0,		null,							null			);
-----------------------------------------------
-- ModifierArguments
-----------------------------------------------
INSERT INTO ModifierArguments 
		(ModifierId,											Name,						Value	)
VALUES	('KAEDWEN_SIEGE_UNITS_PRODUCTION_BOOST',				'UnitPromotionClass',		'PROMOTION_CLASS_SIEGE'		),
		('KAEDWEN_SIEGE_UNITS_PRODUCTION_BOOST',				'EraType',					'NO_ERA' 	),
		('KAEDWEN_SIEGE_UNITS_PRODUCTION_BOOST',				'Amount',					'50'	),

		('KAEDWEN_SIEGE_UNITS_BOOST_MILITARY_ENGINEER_ABILITY_GRANT',	'AbilityType',		'ABILITY_KAEDWEN_MILITARY_ENGINEER_SIEGE_BOOST'	),
		('KAEDWEN_MILITARY_ENGINEER_SIEGE_DEFENSE',						'Amount',			'5'		),
		('KAEDWEN_MILITARY_ENGINEER_SIEGE_BOMBARD',						'Amount',			'7'		),
		
		('MINOR_CIV_IPG_HENGFORS_MINOR_UNIQUE_INFLUENCE_DRAGON_RESOURCE_BONUS',	'ModifierId',		'MINOR_CIV_IPG_HENGFORS_MINOR_DRAGON_RESOURCE_BONUS'),
		('MINOR_CIV_IPG_HENGFORS_MINOR_DRAGON_RESOURCE_BONUS',					'ResourceType',		'RESOURCE_IPG_DRAGON'	),
		('MINOR_CIV_IPG_HENGFORS_MINOR_DRAGON_RESOURCE_BONUS',					'Amount',			'1'		);
		
INSERT INTO ModifierStrings
		(ModifierId,									Context,		Text						)
VALUES	('KAEDWEN_MILITARY_ENGINEER_SIEGE_DEFENSE',		'Preview',		'+{1_Amount} {LOC_MILITARY_ENGINEER_SIEGE_DEFENSE}'	),
		('KAEDWEN_MILITARY_ENGINEER_SIEGE_BOMBARD',		'Preview',		'+{1_Amount} {LOC_MILITARY_ENGINEER_SIEGE_BOMBARD}'	);
-----------------------------------------------
-- Requirements
-----------------------------------------------
INSERT INTO RequirementSets
		(RequirementSetId,								RequirementSetType				)
VALUES	('KAEDWEN_SIEGE_ADJACENT_MILITARY_ENGINEER',	'REQUIREMENTSET_TEST_ALL'		),
		('KAEDWEN_SIEGE_TARGET_CITY',					'REQUIREMENTSET_TEST_ALL'		);

INSERT INTO RequirementSetRequirements
		(RequirementSetId,									RequirementId					)
VALUES	('KAEDWEN_SIEGE_ADJACENT_MILITARY_ENGINEER',		'KAEDWEN_ADJACENT_MILITARY_ENGINEER'),
		('KAEDWEN_SIEGE_TARGET_CITY',						'OPPONENT_IS_DISTRICT'		);

INSERT INTO Requirements
		(RequirementId, 							RequirementType,										Inverse			)
VALUES	('KAEDWEN_ADJACENT_MILITARY_ENGINEER',		'REQUIREMENT_PLOT_ADJACENT_FRIENDLY_UNIT_TYPE_MATCHES',		0			);	

INSERT INTO RequirementArguments
		(RequirementId, 							Name,				Value		)
VALUES	('KAEDWEN_ADJACENT_MILITARY_ENGINEER',		'IncludeCenter',	1			),
		('KAEDWEN_ADJACENT_MILITARY_ENGINEER',		'MaxRange',			'1'			),
		('KAEDWEN_ADJACENT_MILITARY_ENGINEER',		'MinRange',			'0'			),
		('KAEDWEN_ADJACENT_MILITARY_ENGINEER',		'UnitType',			'UNIT_MILITARY_ENGINEER');