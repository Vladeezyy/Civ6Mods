--==========================================================================================================================
-- Dummy Canal Script
--------------------------
-- So, you decided to make your own Canal Wonder huh
-- WELL
-- Turns out the way Panama Canal links the two canals visually
-- to the wonder tile is HARDCODED
--
-- So we use this script to switch the district arts with
-- ones we established in dummy districts yay!
--
-- This one is to set up the property at any rate.
--==========================================================================================================================
print("Suez Dummy Canal Gameplay Scripts running")
-- Please be a good boy and change the initial print, kthxbye

local CanalWonder = "BUILDING_LEU_SUEZ_CANAL";
-- Here you put your canal wonder


--==========================================================================================================================
--==========================================================================================================================
--<><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><>
--==========================================================================================================================
--==========================================================================================================================
--<><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><>
--==========================================================================================================================
--==========================================================================================================================
--<><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><>
--==========================================================================================================================
--==========================================================================================================================
--<><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><>
--==========================================================================================================================
--==========================================================================================================================
--<><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><>
--==========================================================================================================================
--==========================================================================================================================
--<><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><>
--==========================================================================================================================
--==========================================================================================================================
--<><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><>
--==========================================================================================================================
--==========================================================================================================================
--<><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><>
--==========================================================================================================================
--==========================================================================================================================
--<><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><>
--==========================================================================================================================
--==========================================================================================================================
--<><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><>
--==========================================================================================================================
--==========================================================================================================================

function OnCanalWonderAddedToMap(iX, iY, buildingType, playerID, cityID, percentComplete, WeJustDontKnow)
	--print("onBuilding")
	if playerID == nil then return end
	local pPlayer = Players[playerID];
	local pCity = pPlayer:GetCities():FindID(cityID)
	--
	local pCityBuildQueue = pCity:GetBuildQueue();

	if buildingType == GameInfo.Buildings[CanalWonder].Index then
		pPlot = Map.GetPlot(iX, iY)
		pPlot:SetProperty(CanalWonder, 1)
		-- The property helps us detect the wonder on load
		print("Canal Wonder Property added")
		--
		-- The following is a workaround to make sure the art gets updated every time. 
		-- Because it wasn't being super consistent just depending on the Added to Map event in the UI context.
		pCityBuildQueue:AddProgress(1)
		pCityBuildQueue:AddProgress(-1)		
		--
	end
end

Events.BuildingAddedToMap.Add(OnCanalWonderAddedToMap)

function OnCanalWonderRemovedFromMapMap(iX, iY)
	pPlot = Map.GetPlot(iX, iY)
	pPlot:SetProperty(CanalWonder, 0)
end

Events.BuildingRemovedFromMap.Add(OnCanalWonderRemovedFromMapMap)

--==========================================================================================================================
--==========================================================================================================================

