UPDATE	Buildings
SET		Description	= 'LOC_BUILDING_FORBIDDEN_CITY_HAN_DESCRIPTION_DYNASTY_UNIQUES'
WHERE	BuildingType = 'BUILDING_FORBIDDEN_CITY_HAN';

--==== Reqset

-- RequirementSets

INSERT INTO RequirementSets (RequirementSetId, RequirementSetType) VALUES 
('REQSET_WEIYANG_PALACE_PLAYER', 'REQUIREMENTSET_TEST_ALL'), 
('REQSET_WEIYANG_PALACE_ORIGINAL_CAPITAL', 'REQUIREMENTSET_TEST_ALL');

INSERT INTO RequirementSetRequirements (RequirementSetId, RequirementId) VALUES 
('REQSET_WEIYANG_PALACE_PLAYER', 'REQ_WEIYANG_PALACE_PLAYER'), 
('REQSET_WEIYANG_PALACE_ORIGINAL_CAPITAL', 'REQ_WEIYANG_PALACE_ORIGINAL_CAPITAL');

-- Requirements

INSERT INTO Requirements (RequirementId, RequirementType) VALUES 
('REQ_WEIYANG_PALACE_PLAYER', 'REQUIREMENT_PLAYER_HAS_BUILDING'), 
('REQ_WEIYANG_PALACE_ORIGINAL_CAPITAL', 'REQUIREMENT_CITY_IS_ORIGINAL_CAPITAL');

INSERT INTO RequirementArguments (RequirementId, Name, Value) VALUES 
('REQ_WEIYANG_PALACE_PLAYER', 'BuildingType', 'BUILDING_FORBIDDEN_CITY_HAN');

--==== 1 Modifier to be attached

INSERT INTO Modifiers (ModifierId, ModifierType, RunOnce, Permanent, NewOnly, OwnerRequirementSetId, SubjectRequirementSetId) VALUES 
('MODFEAT_WEIYANG_PALACE_INFLUENCE_BONUS', 'MODIFIER_PLAYER_GOVERNMENT_FLAT_BONUS', 0, 0, 0, 'REQSET_WEIYANG_PALACE_PLAYER', NULL),
('MODFEAT_WEIYANG_PALACE_GREAT_MERCHANT_BONUS', 'MODIFIER_PLAYER_ADJUST_GREAT_PERSON_POINTS_PERCENT', 0, 0, 0, 'REQSET_WEIYANG_PALACE_PLAYER', NULL);

INSERT INTO ModifierArguments (ModifierId, Name, Value) VALUES 
('MODFEAT_WEIYANG_PALACE_INFLUENCE_BONUS', 'Amount', '10'), 
('MODFEAT_WEIYANG_PALACE_INFLUENCE_BONUS', 'BonusType', 'GOVERNMENTBONUS_ENVOYS'),
('MODFEAT_WEIYANG_PALACE_GREAT_MERCHANT_BONUS', 'Amount', '10'), 
('MODFEAT_WEIYANG_PALACE_GREAT_MERCHANT_BONUS', 'GreatPersonClassType', 'GREAT_PERSON_CLASS_MERCHANT');

--==== 2 Attach original capitals

INSERT INTO BuildingModifiers (BuildingType, ModifierId) VALUES 
('BUILDING_FORBIDDEN_CITY_HAN', 'MODFEAT_WEIYANG_PALACE_INFLUENCE_BONUS_ATTACH'),
('BUILDING_FORBIDDEN_CITY_HAN', 'MODFEAT_WEIYANG_PALACE_GREAT_MERCHANT_BONUS_ATTACH');

INSERT INTO Modifiers (ModifierId, ModifierType, RunOnce, Permanent, NewOnly, OwnerRequirementSetId, SubjectRequirementSetId) VALUES 
('MODFEAT_WEIYANG_PALACE_INFLUENCE_BONUS_ATTACH', 'MODIFIER_PLAYER_CITIES_ATTACH_MODIFIER', 0, 0, 0, NULL, 'REQSET_WEIYANG_PALACE_ORIGINAL_CAPITAL'),
('MODFEAT_WEIYANG_PALACE_GREAT_MERCHANT_BONUS_ATTACH', 'MODIFIER_PLAYER_CITIES_ATTACH_MODIFIER', 0, 0, 0, NULL, 'REQSET_WEIYANG_PALACE_ORIGINAL_CAPITAL');

INSERT INTO ModifierArguments (ModifierId, Name, Value) VALUES 
('MODFEAT_WEIYANG_PALACE_INFLUENCE_BONUS_ATTACH', 'ModifierId', 'MODFEAT_WEIYANG_PALACE_INFLUENCE_BONUS'),
('MODFEAT_WEIYANG_PALACE_GREAT_MERCHANT_BONUS_ATTACH', 'ModifierId', 'MODFEAT_WEIYANG_PALACE_GREAT_MERCHANT_BONUS');

--==== 3 Suzerain 

INSERT INTO TraitModifiers (TraitType, ModifierId) VALUES 
('MINOR_CIV_DEFAULT_TRAIT', 'MODFEAT_WEIYANG_PALACE_INFLUENCE_BONUS_SUZERAIN_ATTACH'),
('MINOR_CIV_DEFAULT_TRAIT', 'MODFEAT_WEIYANG_PALACE_GREAT_MERCHANT_BONUS_SUZERAIN_ATTACH');

INSERT INTO Modifiers (ModifierId, ModifierType, RunOnce, Permanent, NewOnly, OwnerRequirementSetId, SubjectRequirementSetId) VALUES 
('MODFEAT_WEIYANG_PALACE_INFLUENCE_BONUS_SUZERAIN_ATTACH', 'MODIFIER_ALL_PLAYERS_ATTACH_MODIFIER', 0, 0, 0, NULL, 'PLAYER_IS_SUZERAIN'),
('MODFEAT_WEIYANG_PALACE_GREAT_MERCHANT_BONUS_SUZERAIN_ATTACH', 'MODIFIER_ALL_PLAYERS_ATTACH_MODIFIER', 0, 0, 0, NULL, 'PLAYER_IS_SUZERAIN');

INSERT INTO ModifierArguments (ModifierId, Name, Value) VALUES 
('MODFEAT_WEIYANG_PALACE_INFLUENCE_BONUS_SUZERAIN_ATTACH', 'ModifierId', 'MODFEAT_WEIYANG_PALACE_INFLUENCE_BONUS'),
('MODFEAT_WEIYANG_PALACE_GREAT_MERCHANT_BONUS_SUZERAIN_ATTACH', 'ModifierId', 'MODFEAT_WEIYANG_PALACE_GREAT_MERCHANT_BONUS');