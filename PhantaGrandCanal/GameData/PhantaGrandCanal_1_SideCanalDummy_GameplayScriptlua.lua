--==========================================================================================================================
-- Dummy Canal_1 Script
--------------------------
-- So, you decided to make your own Canal_1 Wonder huh
-- WELL
-- Turns out the way Panama Canal_1 links the two canals visually
-- to the wonder tile is HARDCODED
--
-- So we use this script to switch the district arts with
-- ones we established in dummy districts yay!
--
-- This one is to set up the property at any rate.
--==========================================================================================================================
print("Grand Dummy Canal_1 Gameplay Scripts running")
-- Please be a good boy and change the initial print, kthxbye

local Canal_1Wonder = "BUILDING_PHANTA_GRAND_CANAL";
-- Here you put your canal wonder


--==========================================================================================================================
--==========================================================================================================================
--<><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><>
--==========================================================================================================================
--==========================================================================================================================
--<><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><>
--==========================================================================================================================
--==========================================================================================================================
--<><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><>
--==========================================================================================================================
--==========================================================================================================================
--<><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><>
--==========================================================================================================================
--==========================================================================================================================
--<><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><>
--==========================================================================================================================
--==========================================================================================================================
--<><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><>
--==========================================================================================================================
--==========================================================================================================================
--<><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><>
--==========================================================================================================================
--==========================================================================================================================
--<><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><>
--==========================================================================================================================
--==========================================================================================================================
--<><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><>
--==========================================================================================================================
--==========================================================================================================================
--<><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><>
--==========================================================================================================================
--==========================================================================================================================

function OnCanal_1WonderAddedToMap(iX, iY, buildingType, playerID, cityID, percentComplete, WeJustDontKnow)
	--print("onBuilding")
	if playerID == nil then return end
	local pPlayer = Players[playerID];
	local pCity = pPlayer:GetCities():FindID(cityID)
	--
	local pCityBuildQueue = pCity:GetBuildQueue();

	if buildingType == GameInfo.Buildings[Canal_1Wonder].Index then
		pPlot = Map.GetPlot(iX, iY)
		pPlot:SetProperty(Canal_1Wonder, 1)
		-- The property helps us detect the wonder on load
		print("Canal_1 Wonder Property added")
		--
		-- The following is a workaround to make sure the art gets updated every time. 
		-- Because it wasn't being super consistent just depending on the Added to Map event in the UI context.
		pCityBuildQueue:AddProgress(1)
		pCityBuildQueue:AddProgress(-1)		
		--
	end
end

Events.BuildingAddedToMap.Add(OnCanal_1WonderAddedToMap)

function OnCanal_1WonderRemovedFromMapMap(iX, iY)
	pPlot = Map.GetPlot(iX, iY)
	pPlot:SetProperty(Canal_1Wonder, 0)
end

Events.BuildingRemovedFromMap.Add(OnCanal_1WonderRemovedFromMapMap)

--==========================================================================================================================
--==========================================================================================================================

